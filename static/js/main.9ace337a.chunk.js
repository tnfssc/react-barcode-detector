(this["webpackJsonpreact-barcode-detector-example"]=this["webpackJsonpreact-barcode-detector-example"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);n(7);var r=n(0),o=n.n(r),i=n(2),c=n.n(i),a=n(4),u=n(5),d=n(3),h=n.n(d),l=function(e){var t=e.width,n=e.height,i=e.off,c=void 0!==i&&i,d=e.freq,l=void 0===d?200:d,f=e.videoStyle,s=Object(u.a)(e,["width","height","off","freq","videoStyle"]),g=Object(r.useRef)(null),v=Object(r.useRef)(null),b=Object(r.useState)(0),m=Object(a.a)(b,2),p=m[0],w=m[1],E=function(){return w((function(e){return e+1}))},O=Object(r.useCallback)((function(){if(!c&&g.current&&v.current&&g.current.readyState===g.current.HAVE_ENOUGH_DATA){v.current.hidden=!1;var e=v.current.getContext("2d");if(!e)return;var t=function(t,n,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineWidth=4,e.strokeStyle=r,e.stroke()};console.log(g.current.videoHeight),v.current.height=g.current.videoHeight,v.current.width=g.current.videoWidth,e.drawImage(g.current,0,0,v.current.width,v.current.height);var n=e.getImageData(0,0,v.current.width,v.current.height),r=h()(n.data,n.width,n.height,{inversionAttempts:"dontInvert"});r&&(t(r.location.topLeftCorner,r.location.topRightCorner,"#FF3B58"),t(r.location.topRightCorner,r.location.bottomRightCorner,"#FF3B58"),t(r.location.bottomRightCorner,r.location.bottomLeftCorner,"#FF3B58"),t(r.location.bottomLeftCorner,r.location.topLeftCorner,"#FF3B58"),console.log(r.data))}}),[]);return Object(r.useEffect)(O,[p]),Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",frameRate:10,height:n,width:t},audio:!1}).then((function(e){g.current&&(g.current.srcObject=e)})).catch((function(e){console.error(e)}))}),[]),Object(r.useEffect)((function(){var e=setInterval(E,l);return function(){return clearInterval(e)}}),[l]),o.a.createElement("div",Object.assign({},s),o.a.createElement("video",{hidden:!0,playsInline:!0,ref:g,width:t,height:n,style:f,autoPlay:!0}),o.a.createElement("canvas",{ref:v,width:t,height:n,hidden:!0}))},f=(n(12),function(){return o.a.createElement("div",null,o.a.createElement(l,{freq:200,style:{width:"100%"}}))});c.a.render(o.a.createElement(f,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)},7:function(e,t,n){}},[[6,1,2]]]);
//# sourceMappingURL=main.9ace337a.chunk.js.map